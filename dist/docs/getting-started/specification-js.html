\n<!DOCTYPE html>\n<html lang="en">\n<head>\n <meta charset="UTF-8">\n <title>Document</title>\n <!-- 引入head -->\n {{include '../../../base/public/header'}}\n</head>\n<body>\n <!-- side bar -->\n <div>\n <ul> <li><a href=".html">提示消息 message</a></li> <li><a href=".html">分页 pagination</a></li> <li><a href=".html">消息 message</a></li> <li><a href=".html">提示 tooltip</a></li> <li><a href=".html">面包屑 breadcrumb</a></li> <li><a href=".html">面板 panel</a></li> <li><a href=".html">下拉 dropdown</a></li> <li><a href=".html">按钮组 buttongroup</a></li> <li><a href=".html">输入框组 inputgroup</a></li> <li><a href=".html">导航条 navbar</a></li> <li><a href=".html">缩略图 thumbnail</a></li> <li><a href=".html">媒体对象 meida</a></li> <li><a href=".html">列表组 listgroup</a></li> <li><a href=".html">图片画廊 gallery</a></li> <li><a href=".html">卡片</a></li> </ul>\n </div>\n\n <!-- content -->\n <div>\n \n<h1 id="javascript-">JavaScript 编码规范</h1>\n<p>此为前端开发团队遵循和约定的 JavaScript 编码规范，意在提高代码的规范性和可维护性。</p>\n<h2 id="-a-name-types-a-"><a name='types'>类型</a></h2>\n<ul>\n<li><p><strong>原始值</strong>: 相当于传值</p>\n<ul>\n<li><code>string</code></li>\n<li><code>number</code></li>\n<li><code>boolean</code></li>\n<li><code>null</code></li>\n<li><code>undefined</code></li>\n</ul>\n<pre><code class="lang-javascript">var foo = 1,\n bar = foo;\n\nbar = 9;\n\nconsole.log(foo, bar); // =&gt; 1, 9\n</code></pre>\n</li>\n<li><p><strong>复杂类型</strong>: 相当于传引用</p>\n<ul>\n<li><code>object</code></li>\n<li><code>array</code></li>\n<li><code>function</code></li>\n</ul>\n<pre><code class="lang-javascript">var foo = [1, 2],\n bar = foo;\n\nbar[0] = 9;\n\nconsole.log(foo[0], bar[0]); // =&gt; 9, 9\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-objects-a-"><a name='objects'>对象</a></h2>\n<ul>\n<li><p>使用字面值创建对象</p>\n<pre><code class="lang-javascript">// bad\nvar item = new Object();\n\n// good\nvar item = {};\n</code></pre>\n</li>\n<li><p>不要使用保留字 <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Reserved_Words">reserved words</a> 作为键</p>\n<pre><code class="lang-javascript">// bad\nvar superman = {\n class: &#39;superhero&#39;,\n default: { clark: &#39;kent&#39; },\n private: true\n};\n\n// good\nvar superman = {\n klass: &#39;superhero&#39;,\n defaults: { clark: &#39;kent&#39; },\n hidden: true\n};\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-arrays-a-"><a name='arrays'>数组</a></h2>\n<ul>\n<li><p>使用字面值创建数组</p>\n<pre><code class="lang-javascript">// bad\nvar items = new Array();\n\n// good\nvar items = [];\n</code></pre>\n</li>\n<li><p>如果你不知道数组的长度，使用push</p>\n<pre><code class="lang-javascript">var someStack = [];\n\n// bad\nsomeStack[someStack.length] = &#39;abracadabra&#39;;\n\n// good\nsomeStack.push(&#39;abracadabra&#39;);\n</code></pre>\n</li>\n<li><p>当你需要拷贝数组时使用slice</p>\n<pre><code class="lang-javascript">var len = items.length,\n itemsCopy = [],\n i;\n\n// bad\nfor (i = 0; i &lt; len; i++) {\n itemsCopy[i] = items[i];\n}\n\n// good\nitemsCopy = items.slice();\n</code></pre>\n</li>\n<li><p>使用slice将类数组的对象转成数组.</p>\n<pre><code class="lang-javascript">function trigger() {\n var args = Array.prototype.slice.call(arguments);\n ...\n}\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-strings-a-"><a name='strings'>字符串</a></h2>\n<ul>\n<li><p>对字符串使用单引号 <code>&#39;&#39;</code></p>\n<pre><code class="lang-javascript">// bad\nvar name = &quot;Bob Parr&quot;;\n\n// good\nvar name = &#39;Bob Parr&#39;;\n\n// bad\nvar fullName = &quot;Bob &quot; + this.lastName;\n\n// good\nvar fullName = &#39;Bob &#39; + this.lastName;\n</code></pre>\n</li>\n<li><p>超过80个字符的字符串应该使用字符串连接换行</p>\n<ul>\n<li>注: 如果过度使用，长字符串连接可能会对性能有影响.</li>\n</ul>\n<pre><code class="lang-javascript">// bad\nvar errorMessage = &#39;This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.&#39;;\n\n// bad\nvar errorMessage = &#39;This is a super long error that \\nwas thrown because of Batman. \\nWhen you stop to think about \\nhow Batman had anything to do \\nwith this, you would get nowhere \\nfast.&#39;;\n\n// good\nvar errorMessage = &#39;This is a super long error that &#39; +\n&#39;was thrown because of Batman.&#39; +\n&#39;When you stop to think about &#39; +\n&#39;how Batman had anything to do &#39; +\n&#39;with this, you would get nowhere &#39; +\n&#39;fast.&#39;;\n</code></pre>\n</li>\n</ul>\n<ul>\n<li><p>编程时使用join而不是字符串连接来构建字符串，特别是IE</p>\n<pre><code class="lang-javascript">var items,\n messages,\n length, i;\n\nmessages = [{\n state: &#39;success&#39;,\n message: &#39;This one worked.&#39;\n},{\n state: &#39;success&#39;,\n message: &#39;This one worked as well.&#39;\n},{\n state: &#39;error&#39;,\n message: &#39;This one did not work.&#39;\n}];\n\nlength = messages.length;\n\n// bad\nfunction inbox(messages) {\n items = &#39;&lt;ul&gt;&#39;;\n\n for (i = 0; i &lt; length; i++) {\n items += &#39;&lt;li&gt;&#39; + messages[i].message + &#39;&lt;/li&gt;&#39;;\n }\n\n return items + &#39;&lt;/ul&gt;&#39;;\n}\n\n// good\nfunction inbox(messages) {\n items = [];\n\n for (i = 0; i &lt; length; i++) {\n items[i] = messages[i].message;\n }\n\n return &#39;&lt;ul&gt;&lt;li&gt;&#39; + items.join(&#39;&lt;/li&gt;&lt;li&gt;&#39;) + &#39;&lt;/li&gt;&lt;/ul&gt;&#39;;\n}\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-functions-a-"><a name='functions'>函数</a></h2>\n<ul>\n<li><p>函数表达式:</p>\n<pre><code class="lang-javascript">// 匿名函数表达式\nvar anonymous = function() {\n return true;\n};\n\n// 有名函数表达式\nvar named = function named() {\n return true;\n};\n\n// 立即调用函数表达式\n(function() {\n console.log(&#39;Welcome to the Internet. Please follow me.&#39;);\n})();\n</code></pre>\n</li>\n<li><p>绝对不要在一个非函数块里声明一个函数，把那个函数赋给一个变量。浏览器允许你这么做，但是它们解析不同。</p>\n<ul>\n<li><strong>注:</strong> ECMA-262定义把<code>块</code>定义为一组语句，函数声明不是一个语句。<a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf#page=97">阅读ECMA-262对这个问题的说明</a>.</li>\n</ul>\n<pre><code class="lang-javascript">// bad\nif (currentUser) {\n function test() {\n console.log(&#39;Nope.&#39;);\n }\n}\n\n// good\nif (currentUser) {\n var test = function test() {\n console.log(&#39;Yup.&#39;);\n };\n}\n</code></pre>\n<ul>\n<li>绝对不要把参数命名为 <code>arguments</code>, 这将会逾越函数作用域内传过来的 <code>arguments</code> 对象.</li>\n</ul>\n<pre><code class="lang-javascript">// bad\nfunction nope(name, options, arguments) {\n // ...stuff...\n}\n\n// good\nfunction yup(name, options, args) {\n // ...stuff...\n}\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-properties-a-"><a name='properties'>属性</a></h2>\n<ul>\n<li><p>当使用变量访问属性时使用中括号.</p>\n<pre><code class="lang-javascript">var luke = {\n jedi: true,\n age: 28\n};\n\nfunction getProp(prop) {\n return luke[prop];\n}\n\nvar isJedi = getProp(&#39;jedi&#39;);\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-variables-a-"><a name='variables'>变量</a></h2>\n<ul>\n<li><p>总是使用 <code>var</code> 来声明变量，如果不这么做将导致产生全局变量，我们要避免污染全局命名空间。</p>\n<pre><code class="lang-javascript">// bad\nsuperPower = new SuperPower();\n\n// good\nvar superPower = new SuperPower();\n</code></pre>\n</li>\n<li><p>使用一个 <code>var</code> 以及新行声明多个变量，缩进4个空格。</p>\n<pre><code class="lang-javascript">// bad\nvar items = getItems();\nvar goSportsTeam = true;\nvar dragonball = &#39;z&#39;;\n\n// good\nvar items = getItems(),\n goSportsTeam = true,\n dragonball = &#39;z&#39;;\n</code></pre>\n<ul>\n<li>最后再声明未赋值的变量，当你想引用之前已赋值变量的时候很有用。</li>\n</ul>\n<pre><code class="lang-javascript">// bad\nvar i, len, dragonball,\n items = getItems(),\n goSportsTeam = true;\n\n// bad\nvar i, items = getItems(),\n dragonball,\n goSportsTeam = true,\n len;\n\n// good\nvar items = getItems(),\n goSportsTeam = true,\n dragonball,\n length,\n i;\n</code></pre>\n<ul>\n<li>在作用域顶部声明变量，避免变量声明和赋值引起的相关问题。</li>\n</ul>\n<pre><code class="lang-javascript">// bad\nfunction() {\n test();\n console.log(&#39;doing stuff..&#39;);\n\n //..other stuff..\n\n var name = getName();\n\n if (name === &#39;test&#39;) {\n return false;\n }\n\n return name;\n}\n\n// good\nfunction() {\n var name = getName();\n\n test();\n console.log(&#39;doing stuff..&#39;);\n\n //..other stuff..\n\n if (name === &#39;test&#39;) {\n return false;\n }\n\n return name;\n}\n\n// bad\nfunction() {\n var name = getName();\n\n if (!arguments.length) {\n return false;\n }\n\n return true;\n}\n\n// good\nfunction() {\n if (!arguments.length) {\n return false;\n }\n\n var name = getName();\n\n return true;\n}\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-conditionals-a-"><a name='conditionals'>条件表达式和等号</a></h2>\n<ul>\n<li>适当使用 <code>===</code> 和 <code>!==</code> 以及 <code>==</code> 和 <code>!=</code>.</li>\n<li><p>条件表达式的强制类型转换遵循以下规则：</p>\n<ul>\n<li><strong>对象</strong> 被计算为 <strong>true</strong></li>\n<li><strong>Undefined</strong> 被计算为 <strong>false</strong></li>\n<li><strong>Null</strong> 被计算为 <strong>false</strong></li>\n<li><strong>布尔值</strong> 被计算为 <strong>布尔的值</strong></li>\n<li><strong>数字</strong> 如果是 <strong>+0, -0, or NaN</strong> 被计算为 <strong>false</strong> , 否则为 <strong>true</strong></li>\n<li><strong>字符串</strong> 如果是空字符串 <code>&#39;&#39;</code> 则被计算为 <strong>false</strong>, 否则为 <strong>true</strong></li>\n</ul>\n<pre><code class="lang-javascript">if ([0]) {\n // true\n // An array is an object, objects evaluate to true\n}\n</code></pre>\n</li>\n<li><p>使用快捷方式.</p>\n<pre><code class="lang-javascript">// bad\nif (name !== &#39;&#39;) {\n // ...stuff...\n}\n\n// good\nif (name) {\n // ...stuff...\n}\n\n// bad\nif (collection.length &gt; 0) {\n // ...stuff...\n}\n\n// good\nif (collection.length) {\n // ...stuff...\n}\n</code></pre>\n<ul>\n<li>阅读 <a href="http://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/#more-2108">Truth Equality and JavaScript</a> 了解更多</li>\n</ul>\n</li>\n</ul>\n<h2 id="-a-name-blocks-a-"><a name='blocks'>块</a></h2>\n<ul>\n<li><p>给所有多行的块使用大括号</p>\n<pre><code class="lang-javascript">// bad\nif (test)\n return false;\n\n// good\nif (test) return false;\n\n// good\nif (test) {\n return false;\n}\n\n// bad\nfunction() { return false; }\n\n// good\nfunction() {\n return false;\n}\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-comments-a-"><a name='comments'>注释</a></h2>\n<ul>\n<li><p>使用 <code>/** ... */</code> 进行多行注释，包括描述，指定类型以及参数值和返回值</p>\n<pre><code class="lang-javascript">// bad\n// make() returns a new element\n// based on the passed in tag name\n//\n// @param &lt;String&gt; tag\n// @return &lt;Element&gt; element\nfunction make(tag) {\n\n // ...stuff...\n\n return element;\n}\n\n// good\n/**\n* make() returns a new element\n* based on the passed in tag name\n* @param &lt;String&gt; tag\n* @return &lt;Element&gt; element\n*/\nfunction make(tag) {\n // ...stuff...\n return element;\n}\n</code></pre>\n</li>\n</ul>\n<ul>\n<li><p>使用 <code>//</code> 进行单行注释，在评论对象的上面进行单行注释，注释前放一个空行.</p>\n<pre><code class="lang-javascript">// bad\nvar active = true; // is current tab\n\n// good\n// is current tab\nvar active = true;\n\n// bad\nfunction getType() {\n console.log(&#39;fetching type...&#39;);\n // set the default type to &#39;no type&#39;\n var type = this._type || &#39;no type&#39;;\n\n return type;\n}\n\n// good\nfunction getType() {\n console.log(&#39;fetching type...&#39;);\n\n // set the default type to &#39;no type&#39;\n var type = this._type || &#39;no type&#39;;\n\n return type;\n}\n</code></pre>\n<ul>\n<li>如果你有一个问题需要重新来看一下或如果你建议一个需要被实现的解决方法的话需要在你的注释前面加上 <code>FIXME</code> 或 <code>TODO</code> 帮助其他人迅速理解</li>\n</ul>\n<pre><code class="lang-javascript">function Calculator() {\n\n // FIXME: shouldn&#39;t use a global here\n total = 0;\n\n return this;\n}\n</code></pre>\n<pre><code class="lang-javascript">function Calculator() {\n\n // TODO: total should be configurable by an options param\n this.total = 0;\n\n return this;\n}\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-whitespace-a-"><a name='whitespace'>空白</a></h2>\n<ul>\n<li><p>将tab设为4个空格</p>\n<pre><code class="lang-javascript">// bad\nfunction() {\n ∙∙var name;\n}\n\n// bad\nfunction() {\n ∙var name;\n}\n\n// good\nfunction() {\n ∙∙∙∙var name;\n}\n</code></pre>\n</li>\n<li><p>大括号前放一个空格</p>\n<pre><code class="lang-javascript">// bad\nfunction test(){\n console.log(&#39;test&#39;);\n}\n\n// good\nfunction test() {\n console.log(&#39;test&#39;);\n}\n\n// bad\ndog.set(&#39;attr&#39;,{\n age: &#39;1 year&#39;,\n breed: &#39;Bernese Mountain Dog&#39;\n});\n\n// good\ndog.set(&#39;attr&#39;, {\n age: &#39;1 year&#39;,\n breed: &#39;Bernese Mountain Dog&#39;\n});\n</code></pre>\n<ul>\n<li>在做长方法链时使用缩进.</li>\n</ul>\n<pre><code class="lang-javascript">// bad\n$(&#39;#items&#39;).find(&#39;.selected&#39;).highlight().end().find(&#39;.open&#39;).updateCount();\n\n// good\n$(&#39;#items&#39;)\n .find(&#39;.selected&#39;)\n .highlight()\n .end()\n .find(&#39;.open&#39;)\n .updateCount();\n\n// bad\nvar leds = stage.selectAll(&#39;.led&#39;).data(data).enter().append(&#39;svg:svg&#39;).class(&#39;led&#39;, true)\n .attr(&#39;width&#39;, (radius + margin) breadcrumb.html browser.html buttongroup.html css.html dir.html dropdown.html faq.html feedback.html gallery.html index.html inputgroup.html js.html kero.html listgroup.html media.html menu.html message.html navbar.html page.html pagination.html panel.html pearls.html performance.html progress.html quitstart-kero.html quitstart-project.html quitstart-ui.html rating.html scaffold.html specification-css.html specification-js.html statisticWidget.html SUMMARY.html switchButton.html theme.html thumbnail.html tools.html tooltip.html tree.html version.html 2).append(&#39;svg:g&#39;)\n .attr(&#39;transform&#39;, &#39;translate(&#39; + (radius + margin) + &#39;,&#39; + (radius + margin) + &#39;)&#39;)\n .call(tron.led);\n\n// good\nvar leds = stage.selectAll(&#39;.led&#39;)\n .data(data)\n .enter().append(&#39;svg:svg&#39;)\n .class(&#39;led&#39;, true)\n .attr(&#39;width&#39;, (radius + margin) breadcrumb.html browser.html buttongroup.html css.html dir.html dropdown.html faq.html feedback.html gallery.html index.html inputgroup.html js.html kero.html listgroup.html media.html menu.html message.html navbar.html page.html pagination.html panel.html pearls.html performance.html progress.html quitstart-kero.html quitstart-project.html quitstart-ui.html rating.html scaffold.html specification-css.html specification-js.html statisticWidget.html SUMMARY.html switchButton.html theme.html thumbnail.html tools.html tooltip.html tree.html version.html 2)\n .append(&#39;svg:g&#39;)\n .attr(&#39;transform&#39;, &#39;translate(&#39; + (radius + margin) + &#39;,&#39; + (radius + margin) + &#39;)&#39;)\n .call(tron.led);\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-commas-a-"><a name='commas'>逗号</a></h2>\n<ul>\n<li><p>不要将逗号放前面</p>\n<pre><code class="lang-javascript">// bad\nvar once\n , upon\n , aTime;\n\n// good\nvar once,\n upon,\n aTime;\n\n// bad\nvar hero = {\n firstName: &#39;Bob&#39;\n , lastName: &#39;Parr&#39;\n , heroName: &#39;Mr. Incredible&#39;\n , superPower: &#39;strength&#39;\n};\n\n// good\nvar hero = {\n firstName: &#39;Bob&#39;,\n lastName: &#39;Parr&#39;,\n heroName: &#39;Mr. Incredible&#39;,\n superPower: &#39;strength&#39;\n};\n</code></pre>\n</li>\n<li><p>不要加多余的逗号，这可能会在IE下引起错误，同时如果多一个逗号某些ES3的实现会计算多数组的长度。</p>\n<pre><code class="lang-javascript">// bad\nvar hero = {\n firstName: &#39;Kevin&#39;,\n lastName: &#39;Flynn&#39;,\n};\n\nvar heroes = [\n &#39;Batman&#39;,\n &#39;Superman&#39;,\n];\n\n// good\nvar hero = {\n firstName: &#39;Kevin&#39;,\n lastName: &#39;Flynn&#39;\n};\n\nvar heroes = [\n &#39;Batman&#39;,\n &#39;Superman&#39;\n];\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-semicolons-a-"><a name='semicolons'>分号</a></h2>\n<ul>\n<li><p>语句结束一定要加分号</p>\n<pre><code class="lang-javascript">// bad\n(function() {\n var name = &#39;Skywalker&#39;\n return name\n})()\n\n// good\n(function() {\n var name = &#39;Skywalker&#39;;\n return name;\n})();\n\n// good\n;(function() {\n var name = &#39;Skywalker&#39;;\n return name;\n})();\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-type-coercion-a-"><a name='type-coercion'>类型转换</a></h2>\n<ul>\n<li>在语句的开始执行类型转换.</li>\n<li><p>字符串:</p>\n<pre><code class="lang-javascript">// =&gt; this.reviewScore = 9;\n\n// bad\nvar totalScore = this.reviewScore + &#39;&#39;;\n\n// good\nvar totalScore = &#39;&#39; + this.reviewScore;\n\n// bad\nvar totalScore = &#39;&#39; + this.reviewScore + &#39; total score&#39;;\n\n// good\nvar totalScore = this.reviewScore + &#39; total score&#39;;\n</code></pre>\n<ul>\n<li>对数字使用 <code>parseInt</code> 并且总是带上类型转换的基数.</li>\n</ul>\n<pre><code class="lang-javascript">var inputValue = &#39;4&#39;;\n\n// bad\nvar val = new Number(inputValue);\n\n// bad\nvar val = +inputValue;\n\n// bad\nvar val = inputValue &gt;&gt; 0;\n\n// bad\nvar val = parseInt(inputValue);\n\n// good\nvar val = Number(inputValue);\n\n// good\nvar val = parseInt(inputValue, 10);\n\n// good\n/**\n* parseInt was the reason my code was slow.\n* Bitshifting the String to coerce it to a\n* Number made it a lot faster.\n*/\nvar val = inputValue &gt;&gt; 0;\n</code></pre>\n<ul>\n<li>布尔值:</li>\n</ul>\n<pre><code class="lang-javascript">var age = 0;\n\n// bad\nvar hasAge = new Boolean(age);\n\n// good\nvar hasAge = Boolean(age);\n\n// good\nvar hasAge = !!age;\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-naming-conventions-a-"><a name='naming-conventions'>命名约定</a></h2>\n<ul>\n<li><p>避免单个字符名，让你的变量名有描述意义。</p>\n<pre><code class="lang-javascript">// bad\nfunction q() {\n // ...stuff...\n}\n\n// good\nfunction query() {\n // ..stuff..\n}\n</code></pre>\n</li>\n<li><p>当命名对象、函数和实例时使用驼峰命名规则</p>\n<pre><code class="lang-javascript">// bad\nvar OBJEcttsssss = {};\nvar this_is_my_object = {};\nvar this-is-my-object = {};\nfunction c() {};\nvar u = new user({\n name: &#39;Bob Parr&#39;\n});\n\n// good\nvar thisIsMyObject = {};\nfunction thisIsMyFunction() {};\nvar user = new User({\n name: &#39;Bob Parr&#39;\n});\n</code></pre>\n<ul>\n<li><p>当命名构造函数或类时使用驼峰式大写</p>\n<pre><code class="lang-javascript">// bad\nfunction user(options) {\n this.name = options.name;\n}\n\nvar bad = new user({\n name: &#39;nope&#39;\n});\n\n// good\nfunction User(options) {\n this.name = options.name;\n}\n\nvar good = new User({\n name: &#39;yup&#39;\n});\n</code></pre>\n</li>\n<li><p>命名私有属性时前面加个下划线 <code>_</code></p>\n<pre><code class="lang-javascript">// bad\nthis.__firstName__ = &#39;Panda&#39;;\nthis.firstName_ = &#39;Panda&#39;;\n\n// good\nthis._firstName = &#39;Panda&#39;;\n</code></pre>\n</li>\n<li><p>当保存对 <code>this</code> 的引用时使用 <code>_this</code>.</p>\n<pre><code class="lang-javascript">// bad\nfunction() {\n var self = this;\n return function() {\n console.log(self);\n };\n}\n\n// bad\nfunction() {\n var that = this;\n return function() {\n console.log(that);\n };\n}\n\n// good\nfunction() {\n var _this = this;\n return function() {\n console.log(_this);\n };\n}\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id="-a-name-accessors-a-"><a name='accessors'>存取器</a></h2>\n<ul>\n<li>属性的存取器函数不是必需的</li>\n<li><p>如果你确实有存取器函数的话使用getVal() 和 setVal(&#39;hello&#39;)</p>\n<pre><code class="lang-javascript">// bad\ndragon.age();\n\n// good\ndragon.getAge();\n\n// bad\ndragon.age(25);\n\n// good\ndragon.setAge(25);\n</code></pre>\n<ul>\n<li>如果属性是布尔值，使用isVal() 或 hasVal()</li>\n</ul>\n<pre><code class="lang-javascript">// bad\nif (!dragon.age()) {\n return false;\n}\n\n// good\nif (!dragon.hasAge()) {\n return false;\n}\n</code></pre>\n<ul>\n<li>可以创建get()和set()函数，但是要保持一致</li>\n</ul>\n<pre><code class="lang-javascript">function Jedi(options) {\n options || (options = {});\n var lightsaber = options.lightsaber || &#39;blue&#39;;\n this.set(&#39;lightsaber&#39;, lightsaber);\n}\n\nJedi.prototype.set = function(key, val) {\n this[key] = val;\n};\n\nJedi.prototype.get = function(key) {\n return this[key];\n};\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-constructors-a-"><a name='constructors'>构造器</a></h2>\n<ul>\n<li><p>给对象原型分配方法，而不是用一个新的对象覆盖原型，覆盖原型会使继承出现问题。</p>\n<pre><code class="lang-javascript">function Jedi() {\n console.log(&#39;new jedi&#39;);\n}\n\n// bad\nJedi.prototype = {\n fight: function fight() {\n console.log(&#39;fighting&#39;);\n },\n\n block: function block() {\n console.log(&#39;blocking&#39;);\n }\n};\n\n// good\nJedi.prototype.fight = function fight() {\n console.log(&#39;fighting&#39;);\n};\n\nJedi.prototype.block = function block() {\n console.log(&#39;blocking&#39;);\n};\n</code></pre>\n</li>\n<li><p>方法可以返回 <code>this</code> 帮助方法可链。</p>\n<pre><code class="lang-javascript">// bad\nJedi.prototype.jump = function() {\n this.jumping = true;\n return true;\n};\n\nJedi.prototype.setHeight = function(height) {\n this.height = height;\n};\n\nvar luke = new Jedi();\nluke.jump(); // =&gt; true\nluke.setHeight(20) // =&gt; undefined\n\n// good\nJedi.prototype.jump = function() {\n this.jumping = true;\n return this;\n};\n\nJedi.prototype.setHeight = function(height) {\n this.height = height;\n return this;\n};\n\nvar luke = new Jedi();\n\nluke.jump()\n .setHeight(20);\n</code></pre>\n</li>\n</ul>\n<ul>\n<li><p>可以写一个自定义的toString()方法，但是确保它工作正常并且不会有副作用。</p>\n<pre><code class="lang-javascript">function Jedi(options) {\n options || (options = {});\n this.name = options.name || &#39;no name&#39;;\n}\n\nJedi.prototype.getName = function getName() {\n return this.name;\n};\n\nJedi.prototype.toString = function toString() {\n return &#39;Jedi - &#39; + this.getName();\n};\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-events-a-"><a name='events'>事件</a></h2>\n<ul>\n<li><p>当给事件附加数据时，传入一个哈希而不是原始值，这可以让后面的贡献者加入更多数据到事件数据里而不用找出并更新那个事件的事件处理器</p>\n<pre><code class="lang-js">// bad\n$(this).trigger(&#39;listingUpdated&#39;, listing.id);\n\n...\n\n$(this).on(&#39;listingUpdated&#39;, function(e, listingId) {\n // do something with listingId\n});\n</code></pre>\n<p> 更好:</p>\n<pre><code class="lang-js">// good\n$(this).trigger(&#39;listingUpdated&#39;, { listingId : listing.id });\n\n...\n\n$(this).on(&#39;listingUpdated&#39;, function(e, data) {\n // do something with data.listingId\n});\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-modules-a-"><a name='modules'>模块</a></h2>\n<ul>\n<li>模块应该以 <code>!</code> 开始，这保证了如果一个有问题的模块忘记包含最后的分号在合并后不会出现错误</li>\n<li><p>这个文件应该以驼峰命名，并在同名文件夹下，同时导出的时候名字一致</p>\n<ul>\n<li>加入一个名为noConflict()的方法来设置导出的模块为之前的版本并返回它</li>\n<li>总是在模块顶部声明 <code>&#39;use strict&#39;;</code></li>\n</ul>\n<pre><code class="lang-javascript">// fancyInput/fancyInput.js\n\n!function(global) {\n &#39;use strict&#39;;\n\n var previousFancyInput = global.FancyInput;\n\n function FancyInput(options) {\n this.options = options || {};\n }\n\n FancyInput.noConflict = function noConflict() {\n global.FancyInput = previousFancyInput;\n return FancyInput;\n };\n\n global.FancyInput = FancyInput;\n}(this);\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-jquery-jquery-a-"><a name='jquery'>jQuery</a></h2>\n<ul>\n<li><p>缓存jQuery查询</p>\n<pre><code class="lang-javascript">// bad\nfunction setSidebar() {\n $(&#39;.sidebar&#39;).hide();\n\n // ...stuff...\n\n $(&#39;.sidebar&#39;).css({\n &#39;background-color&#39;: &#39;pink&#39;\n });\n}\n\n// good\nfunction setSidebar() {\n var $sidebar = $(&#39;.sidebar&#39;);\n $sidebar.hide();\n\n // ...stuff...\n\n $sidebar.css({\n &#39;background-color&#39;: &#39;pink&#39;\n });\n}\n</code></pre>\n</li>\n<li><p>对DOM查询使用级联的 <code>$(&#39;.sidebar ul&#39;)</code> 或 <code>$(&#39;.sidebar ul&#39;)</code></p>\n<ul>\n<li>对有作用域的jQuery对象查询使用 <code>find</code></li>\n</ul>\n<pre><code class="lang-javascript">// bad\n$(&#39;.sidebar&#39;, &#39;ul&#39;).hide();\n\n// bad\n$(&#39;.sidebar&#39;).find(&#39;ul&#39;).hide();\n\n// good\n$(&#39;.sidebar ul&#39;).hide();\n\n// good\n$(&#39;.sidebar &gt; ul&#39;).hide();\n\n// good (slower)\n$sidebar.find(&#39;ul&#39;);\n\n// good (faster)\n$($sidebar[0]).find(&#39;ul&#39;);\n</code></pre>\n</li>\n</ul>\n<h2 id="-a-name-es5-ecmascript-5-a-"><a name='es5'>ECMAScript 5兼容性</a></h2>\n<ul>\n<li>参考Kangax的 ES5 <a href="http://kangax.github.com/es5-compat-table/">compatibility table</a></li>\n</ul>\n<h2 id="-a-name-performance-a-"><a name='performance'>性能</a></h2>\n<ul>\n<li><a href="http://kellegous.com/j/2013/01/26/layout-performance/">On Layout &amp; Web Performance</a></li>\n<li><a href="http://jsperf.com/string-vs-array-concat/2">String vs Array Concat</a><ul>\n<li><a href="http://jsperf.com/try-catch-in-loop-cost">Try/Catch Cost In a Loop</a></li>\n<li><a href="http://jsperf.com/bang-function">Bang Function</a></li>\n<li><a href="http://jsperf.com/jquery-find-vs-context-sel/13">jQuery Find vs Context, Selector</a></li>\n<li><a href="http://jsperf.com/innerhtml-vs-textcontent-for-script-text">innerHTML vs textContent for script text</a></li>\n<li><a href="http://jsperf.com/ya-string-concat">Long String Concatenation</a></li>\n<li>Loading...</li>\n</ul>\n</li>\n</ul>\n<h2 id="-a-name-resources-a-"><a name='resources'>资源</a></h2>\n<p><strong>Read This</strong></p>\n<ul>\n<li><a href="http://es5.github.com/">Annotated ECMAScript 5.1</a></li>\n</ul>\n<p><strong>其它规范</strong></p>\n<ul>\n<li><a href="http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml">Google JavaScript Style Guide</a></li>\n<li><a href="http://docs.jquery.com/JQuery_Core_Style_Guidelines">jQuery Core Style Guidelines</a><ul>\n<li><a href="https://github.com/rwldrn/idiomatic.js/">Principles of Writing Consistent, Idiomatic JavaScript</a></li>\n</ul>\n</li>\n</ul>\n<p><strong>其它风格</strong></p>\n<ul>\n<li><a href="https://gist.github.com/4135065">Naming this in nested functions</a> - Christian Johansen</li>\n<li><a href="https://github.com/airbnb/javascript/issues/52">Conditional Callbacks</a></li>\n</ul>\n<p><strong>阅读更多</strong></p>\n<ul>\n<li><a href="http://javascriptweblog.wordpress.com/2010/10/25/understanding-javascript-closures/">Understanding JavaScript Closures</a> - Angus Croll</li>\n</ul>\n<p><strong>书籍</strong></p>\n<ul>\n<li><a href="http://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742">JavaScript: The Good Parts</a> - Douglas Crockford</li>\n<li><a href="http://www.amazon.com/JavaScript-Patterns-Stoyan-Stefanov/dp/0596806752">JavaScript Patterns</a> - Stoyan Stefanov<ul>\n<li><a href="http://www.amazon.com/JavaScript-Design-Patterns-Recipes-Problem-Solution/dp/159059908X">Pro JavaScript Design Patterns</a> - Ross Harmes and Dustin Diaz</li>\n<li><a href="http://www.amazon.com/High-Performance-Web-Sites-Essential/dp/0596529309">High Performance Web Sites: Essential Knowledge for Front-End Engineers</a> - Steve Souders</li>\n<li><a href="http://www.amazon.com/Maintainable-JavaScript-Nicholas-C-Zakas/dp/1449327680">Maintainable JavaScript</a> - Nicholas C. Zakas</li>\n<li><a href="http://www.amazon.com/JavaScript-Web-Applications-Alex-MacCaw/dp/144930351X">JavaScript Web Applications</a> - Alex MacCaw</li>\n<li><a href="http://www.amazon.com/Pro-JavaScript-Techniques-John-Resig/dp/1590597273">Pro JavaScript Techniques</a> - John Resig</li>\n<li><a href="http://www.amazon.com/Smashing-Node-js-JavaScript-Everywhere-Magazine/dp/1119962595">Smashing Node.js: JavaScript Everywhere</a> - Guillermo Rauch</li>\n</ul>\n</li>\n</ul>\n<p><strong>博客</strong></p>\n<ul>\n<li><a href="http://adamlu.com/">Adam Lu</a></li>\n<li><a href="http://dailyjs.com/">DailyJS</a><ul>\n<li><a href="http://javascriptweekly.com/">JavaScript Weekly</a></li>\n<li><a href="http://javascriptweblog.wordpress.com/">JavaScript, JavaScript...</a></li>\n<li><a href="http://weblog.bocoup.com/">Bocoup Weblog</a></li>\n<li><a href="http://www.adequatelygood.com/">Adequately Good</a></li>\n<li><a href="http://www.nczonline.net/">NCZOnline</a></li>\n<li><a href="http://perfectionkills.com/">Perfection Kills</a></li>\n<li><a href="http://benalman.com/">Ben Alman</a></li>\n<li><a href="http://dmitry.baranovskiy.com/">Dmitry Baranovskiy</a></li>\n<li><a href="http://dustindiaz.com/">Dustin Diaz</a></li>\n<li><a href="http://net.tutsplus.com/?s=javascript">nettuts</a></li>\n</ul>\n</li>\n</ul>\n<h1 id="-">声明</h1>\n<blockquote>\n<p>本规范由<code>github</code>上<code>adamlu</code>同学翻译自<code>airbnb</code>出品的前端代码规范，<a href="https://github.com/GuoYongfeng/javascript">点这里查看原文</a></p>\n</blockquote>\n </div>\n\n <!-- 引入end -->\n {{include '../../../base/public/footer'}}\n</body>\n</html>
